{% extends 'base.html' %}
{% block title %}Restaurant Page{% endblock %}
{% block content %}
{% load static %}


<link rel="stylesheet" href="{% static 'css/product_list.css' %}"/>

<style>
    #restaurantfont {
        font-size: 180%;
        font-weight: bold;
    }

    #green {
        font-weight: bold;
        color: #00be68
    }

    #red {
        font-weight: bold;
        color: red;
    }

    th, td {
        padding: 10px;
    }
    th, td {
      padding: 10px;
    }
</style>

<div class="box-container">

    <div class="store" id="box-layout">

        <div class="store-in">

            <div class="storepic">
                <div class="card-image"><img style="max-width: 100%" src="{{current_restaurant.image.url}}"></div>
            </div>

            <div class="storeinfo">
                <p id="restaurantfont">{{current_restaurant.name}}</p>
                <p>거리 | 500m 이내</p>
                <p>지도 | 위치보기</p>
                <p>별별별별별 4.7</p>
            </div>

        </div>

    </div>

    <div style="height: auto;">

        <p><span id="restaurantfont">오늘의 상품</span><span style="float: right;">오늘 판매하는 상품만 등록합니다.</span></p>

        <!-- Up to 3 menus -->
        {% for product in products %}

        <div class="menu-in" id="box-layout">

            <div class="menupic">
                <img class="card-img-top" src="{{product.image.url}}" alt="restaurant Image"
                     style="height: 100px; ">
            </div>

            <div class="menuinfo">
                <ul style="list-style: none;">
                    <li id="restaurantfont">{{product.name}}</li>
                    <li><span id="green">정가 : {{product.origin_price}}</span> → <span id="red">할인가격 : {{product.price}}</span></li>
                    <li id="green" style="margin-top:10px;">할인율  {{product.discount}} %</li>
                    <div onload="boxlayout()">
                        <li id="result"></li>
                    </div>

                </ul>
            </div>

            <div class="cartbutton">
                <form action="{% url 'cart:product_add' product.id  %}" method="post">
                    {{add_to_cart}}
                    {% csrf_token %}
                    <input type="submit" class="btn btn-success btn-sm" value="카트 추가" style="margin-top:20px;">
                </form>
            </div>

        </div>
        {% endfor %}

    </div>

    <div class="storelocation" id = "margin">

        <p><span id="restaurantfont">매장 위치</span></p>

        <!-- for map -->
        <div id="map" style="width:100%;height:500px;"></div>

        <script>
            var mapOptions = {
                center: new naver.maps.LatLng(37.3595704, 127.105399),
                zoom: 10
            };

            var map = new naver.maps.Map('map', mapOptions);
        </script>

    </div>

    <div class="storeinfo">

        <p><span id="restaurantfont">매장 정보</span></p>

        <div id="box-layout">

            <table>

                <colgroup>
                    <col width="35%"/>
                    <col width="*"/>
                </colgroup>

                <tr>
                    <td>영업시간</td>
                    <td>10:00 ~ 23:00</td>
                </tr>

                <tr>
                    <td>전화번호</td>
                    <td>010-1234-5678</td>
                </tr>

                <tr>
                    <td>주소</td>
                    <td>서울시 동작구 상도 1동 266-1층 102호</td>
                </tr>

            </table>

        </div>

    </div>
    <div class="storeowner">

        <p><span id="restaurantfont">사업자 정보</span></p>

        <div id="box-layout">

            <table>

                <colgroup>
                    <col width="45%"/>
                    <col width="*"/>
                </colgroup>

                <tr>
                    <td>상호명</td>
                    <td>배달삼겹직구삼상도직영점</td>
                </tr>

                <tr>
                    <td>사업자등록번호</td>
                    <td>{{current_restaurant.business_number}}</td>
                </tr>

            </table>

        </div>

    </div>

    <div class="foodinfo">

        <p><span id="restaurantfont">원산지 정보</span></p>

        <div id="box-layout">
            <p>돈삼겹(독일산), 돈목살(스페인산), 돈목전지(스페인/미국산), 양념갈비(스페인산), 보쌈(오스트리아산),
                김치(중국산), 마늘(국내산), 쌀(국내산), 고추가루(중국산)</p>
        </div>

    </div>

</div>

<script>
    function boxlayout() {
        var origin_price = document.getElementById("red").innerHTML;
        var price = document.getElementById("green").innerHTML
        result = parseInt(origin_price) / parseInt(price)
        document.getElementById("result").innerHTML = result
    }


</script>

{% endblock %}
