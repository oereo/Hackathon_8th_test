{% extends "base.html" %}
{% load static %}
{% block head%}
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<style>
    body {
        color: #555;
        background: #eeeeee;
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    h1 {
        padding: 50px 0;
        font-weight: 400;
        text-align: center;
    }

    p {
        margin: 0 0 20px;
        line-height: 1.5;
    }


    section {
        display: none;
        padding: 20px 0 0;
        border-top: 1px solid #ddd;
    }

    /*라디오버튼 숨김*/
    input {
        display: none;
    }

    label {
        display: inline-block;
        margin: 0 0 -1px;
        padding: 15px 25px;
        font-weight: 600;
        text-align: center;
        color: #bbb;
        border: 1px solid transparent;
    }

    label:hover {
        color: #00be68;
        cursor: pointer;
    }

    /*input 클릭시, label 스타일*/
    input:checked + label {
        color: #00be68;
        border: 1px solid #ddd;
        border-top: 2px solid #00be68;
        border-bottom: 1px solid #ffffff;
    }

    #tab1:checked ~ #content1,
    #tab2:checked ~ #content2,
    #tab3:checked ~ #content3,
    #tab4:checked ~ #content4 {
        display: block;
    }
</style>
{% endblock %}

{% block content %}

<hr>
<div class="container bootstrap snippet">
    <div class="row">
        <div class="col-sm-10"><h1>My Page</h1></div>
    </div>
    <div class="row">
        <div class="col-sm-3"><!--left col-->


            <div class="text-center">
                <img src="http://ssl.gstatic.com/accounts/ui/avatar_2x.png" class="avatar img-circle img-thumbnail"
                     alt="avatar">
                <h6>{{user.nickname}}</h6>
                <input type="file" class="text-center center-block file-upload">
            </div>
            </hr><br>


            <ul class="list-group">
                <li class="list-group-item text-muted">Activity <i class="fa fa-dashboard fa-1x"></i></li>
                <li class="list-group-item text-right"><span class="pull-left"><strong>환경계좌</strong></span> 125 <strong>
                    points</strong></li>
                <li class="list-group-item text-right"><span class="pull-left"><strong>픽업 전</strong></span> 13 <strong>
                    건</strong></li>
                <li class="list-group-item text-right"><span class="pull-left"><strong>Posts</strong></span> 37<strong>
                    건</strong></li>
            </ul>

        </div><!--/col-3-->

        <div class="col-sm-9">
            <input id="tab1" type="radio" name="tabs" checked> <!--디폴트 메뉴-->
            <label for="tab1">프로필</label>

            <input id="tab2" type="radio" name="tabs">
            <label for="tab2">Webeing 결제내역</label>

            <input id="tab3" type="radio" name="tabs">
            <label for="tab3">Webeing 환경계좌</label>

            <input id="tab4" type="radio" name="tabs">
            <label for="tab4">추가 탭</label>

            <section id="content1">
                <form class="form" action="##" method="post" id="registrationForm">

                    <div class="form-group">

                        <div class="col-xs-6">
                            <label for="first_name"><h4>First name</h4></label>
                            <input type="text" class="form-control" name="first_name" id="first_name"
                                   placeholder="first name" title="enter your first name if any.">
                        </div>
                    </div>

                    <div class="form-group">

                        <div class="col-xs-6">
                            <label for="last_name"><h4>Last name</h4></label>
                            <input type="text" class="form-control" name="last_name" id="last_name"
                                   placeholder="last name" title="enter your last name if any.">
                        </div>
                    </div>

                    <div class="form-group">

                        <div class="col-xs-6">
                            <label for="phone"><h4>Phone</h4></label>
                            <input type="text" class="form-control" name="phone" id="phone" placeholder="enter phone"
                                   title="enter your phone number if any.">
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-xs-6">
                            <label for="mobile"><h4>Mobile</h4></label>
                            <input type="text" class="form-control" name="mobile" id="mobile"
                                   placeholder="enter mobile number" title="enter your mobile number if any.">
                        </div>
                    </div>
                    <div class="form-group">

                        <div class="col-xs-6">
                            <label for="email"><h4>Email</h4></label>
                            <input type="email" class="form-control" name="email" id="email" placeholder="you@email.com"
                                   title="enter your email.">
                        </div>
                    </div>
                    <div class="form-group">

                        <div class="col-xs-6">
                            <label for="email"><h4>Location</h4></label>
                            <input type="email" class="form-control" id="location" placeholder="somewhere"
                                   title="enter a location">
                        </div>
                    </div>
                    <div class="form-group">

                        <div class="col-xs-6">
                            <label for="password"><h4>Password</h4></label>
                            <input type="password" class="form-control" name="password" id="password"
                                   placeholder="password" title="enter your password.">
                        </div>
                    </div>
                    <div class="form-group">

                        <div class="col-xs-6">
                            <label for="password2"><h4>Verify</h4></label>
                            <input type="password" class="form-control" name="password2" id="password2"
                                   placeholder="password2" title="enter your password2.">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-xs-12">
                            <br>
                            <button class="btn btn-lg btn-success" type="submit"><i
                                    class="glyphicon glyphicon-ok-sign"></i> Save
                            </button>
                            <button class="btn btn-lg" type="reset"><i class="glyphicon glyphicon-repeat"></i> Reset
                            </button>
                        </div>
                    </div>
                </form>

            </section>

            <section id="content2">
                {% for order_items in order_items_list %}
                {% for order_item in order_items %}

                <div class="card text-white bg-success mb-3" style="max-width: 50rem;">
                    <div class="card-header">{{order_item.created}}</div>
                    <div class="card-body">
                        <h5 class="card-title"> {{order_item.product}} X {{order_item.quantity}}
                        </h5>
                        <p class="card-text">{{order_item.price}}</p>
                    </div>
                </div>

                <br/>
                {% endfor %}
                <br/>
                <br/>
                {% endfor %}


                {% for order in orderitems.items.all %}
                {{ order.created }}
                {% endfor %}


            </section>

            <section id="content3">
                <div id="env_money">
                    {{user_env_point_amount}}
                </div>
                <p id="counter1"></p>

            </section>

            <section id="content4">
                <p>tab menu4의 내용</p>
            </section>

        </div>

    </div><!--/tab-content-->

</div><!--/col-9-->
</div><!--/row-->

<script>
    function numberCounter(target_frame, target_number) {
        this.count = 0;
        this.diff = 0;
        this.target_count = parseInt(target_number);
        this.target_frame = document.getElementById(target_frame);
        this.timer = null;
        this.counter();
    };

    numberCounter.prototype.counter = function () {
        var self = this;
        this.diff = this.target_count - this.count;

        if (this.diff > 0) {
            self.count += Math.ceil(this.diff / 5);
        }

        this.target_frame.innerHTML = this.count.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');

        if (this.count < this.target_count) {
            this.timer = setTimeout(function () {
                self.counter();
            }, 200);
        } else {
            clearTimeout(this.timer);
        }
    };
    // const choices_name = JSON.parse(user.size());
    var env_money = document.getElementById("env_money").innerHTML;

    new numberCounter("counter1", env_money);
    new numberCounter("counter2", 21565748);

</script>

{% endblock %}
